<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ld.gg.dao.AdminDao">
	<select id="get_notice_history" resultType="notice">
		SELECT * FROM NOTICE_BOARD
		ORDER BY t_b_num asc;
	</select>
	
	<select id="get_notice_detail" resultType="notice">
		SELECT * FROM NOTICE_BOARD
		WHERE T_B_NUM = #{t_b_num}
	</select>
	
	<update id="increase_views" >
		UPDATE NOTICE_BOARD 
		SET T_B_VIEWS = T_B_VIEWS + 1
		WHERE T_B_NUM = ${t_b_num}
	</update>
	
	<select id="search_notice" resultType="notice">
		SELECT * FROM NOTICE_BOARD
		WHERE T_B_CONTENT LIKE '%${keyword}%'
	</select>
	
	<insert id="write_notice" parameterType="notice">
		INSERT INTO NOTICE_BOARD
		VALUES (2, #{t_b_content}, default, default, default, #{t_b_title})
	</insert>
	
	<update id="modify_notice" parameterType="notice">
		UPDATE NOTICE_BOARD 
		SET t_b_title = #{t_b_title},
		t_b_content = #{t_b_content},
		t_b_date = default 
		where t_b_num = #{t_b_num}
	</update>
</mapper>